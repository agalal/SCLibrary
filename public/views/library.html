<div class="left-side-wrapper">
    <div class="search-wrapper">
        <input type="text" placeholder="Search" ng-model="ctlr.searchTerm" />
    </div>
    <ul class="side">
        <li>Library</li>
        <ul class="sub">
            <li ng-click="ctlr.displaySongs()">Songs</li>
            <li>Channels</li>
            <li>Genres</li>
        </ul>

        <li>Playlists</li>
        <span class="addPlaylist">+ Add Playlist</span>
        <form ng-submit="ctlr.createPlaylist()" class="playlistForm">
            <input type="text" ng-model="ctlr.playlistInput" name="text" />
            <!--<input type="submit" id="submit" value="Submit" />-->
        </form>

        <!-- Why is this not sorting? -->
        <ul ng-repeat="playlist in ctlr.playlists | orderBy:p.properties.name">
            <li ng-click="ctlr.loadPlaylist(playlist)">{{playlist.p.properties.name}}</li><span ng-click="ctlr.deletePlaylist(playlist)">X</span>
        </ul>
    </ul>
</div>
<div class="library-wrapper">
    <table cellpadding="0" cellspacing="0" id="lib-view" style="clear:both;">
        <ul class="header">
            <li>
                <ol class="col-sizeable">
                    <li class="text-center" ng-click="ctlr.updateSort('c.properties.name')">
                        <a class="dark">Channel</a>
                        <span ng-show="ctlr.sortType == 'c.properties.name' && !ctlr.sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="ctlr.sortType == 'c.properties.name' && ctlr.sortReverse" class="fa fa-caret-up"></span>
                    </li>
                    <li class="text-center" ng-click="ctlr.updateSort('t.properties.name')">
                        <a class="dark">Title</a>
                        <span ng-show="ctlr.sortType == 't.properties.name' && !ctlr.sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="ctlr.sortType == 't.properties.name' && ctlr.sortReverse" class="fa fa-caret-up"></span>
                    </li>
                    <li class="text-center" ng-click="ctlr.updateSort('t.properties.created_at')">
                        <a class="dark">Date</a>
                        <span ng-show="ctlr.sortType == 't.properties.created_at' && !ctlr.sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="ctlr.sortType == 't.properties.created_at' && ctlr.sortReverse" class="fa fa-caret-up"></span>
                    </li>
                    <li class="text-center" ng-click="ctlr.updateSort('t.properties.genre')">
                        <a class="dark">Genre</a>
                        <span ng-show="ctlr.sortType == 't.properties.genre' && !ctlr.sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="ctlr.sortType == 't.properties.genre' && ctlr.sortReverse" class="fa fa-caret-up"></span>
                    </li>
                    <li class="text-center" ng-click="ctlr.updateSort('t.properties.duration')">
                        <a class="dark">Duration</a>
                        <span ng-show="ctlr.sortType == 't.properties.duration' && !ctlr.sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="ctlr.sortType == 't.properties.duration' && ctlr.sortReverse" class="fa fa-caret-up"></span>
                    </li>
                </ol>
            </li>
        </ul>
        <ul class="list">
            <li class="track-row" ng-repeat="track in ctlr.display | orderBy:ctlr.sortType:ctlr.sortReverse | filter:ctlr.searchTerm" ng-click="ctlr.playSong(track, this)" ng-init="ctlr.initContextMenu()">
                <!--td >x</td-->
                <ol>
                    <li class="channel">{{track.c.properties.name}}</li>
                    <li class="title">{{track.t.properties.name}}</li>
                    <li class="date">{{ctlr.formatDate(track.t.properties.created_at)}}</li>
                    <li class="genre">{{track.t.properties.genre}}</li>
                    <li class="duration">{{ctlr.convertTime(track.t.properties.duration)}}</li>
                </ol>
            </li>
        </ul>
    </table>
</div>
